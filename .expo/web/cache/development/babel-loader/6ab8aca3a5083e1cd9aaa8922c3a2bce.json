{"ast":null,"code":"var _jsxFileName = \"/home/alex/workspace/papamama/src/components/menu/ProductCardCart.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Context as AppSettingsContext } from \"../../context/AppSettingsContext\";\nimport { Context as MenuContext } from \"../../context/MenuContext\";\nimport { Block, IntelligentImage, Spacer, VerticalSpacer } from \"../shared\";\nimport { createIconSetFromIcoMoon } from \"@expo/vector-icons\";\nimport icoMoonConfig from \"../../../selection.json\";\nvar IcoMoonIcon = createIconSetFromIcoMoon(icoMoonConfig, 'icomoon', 'icomoon.ttf');\nimport translator from \"../../translator/translator\";\nimport { formatPrice, makeCopy } from \"../../helpers/helpers\";\nimport styles from \"../../styles/components/menu/product-card-cart\";\nimport { app_styles } from \"../../styles/app_styles\";\n\nvar ProductCardCart = function ProductCardCart(_ref) {\n  var product = _ref.product;\n\n  var _useContext = useContext(AppSettingsContext),\n      _useContext$state = _useContext.state,\n      language = _useContext$state.language,\n      scales = _useContext$state.scales,\n      appSettings = _useContext$state.appSettings;\n\n  var _useContext2 = useContext(MenuContext),\n      cart = _useContext2.state.cart,\n      updateCart = _useContext2.updateCart,\n      removeFromCart = _useContext2.removeFromCart;\n\n  var getProductPrice = function getProductPrice() {\n    if (product.total_one_product_price) {\n      return parseFloat(product.total_one_product_price);\n    }\n\n    return getVariantPrice();\n  };\n\n  var getVariantPrice = function getVariantPrice() {\n    var variant = product.variants.find(function (item) {\n      return item.size === product.size;\n    });\n    return variant ? parseFloat(variant['price']) : product.variants[0]['price'];\n  };\n\n  var cartHandler = function cartHandler() {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"-\";\n    if (type === \"-\" && product.quantity <= 1) return;\n    var newQuantity = type === \"-\" ? product.quantity - 1 : product.quantity + 1;\n    var cartClone = makeCopy(cart);\n    cartClone.forEach(function (item) {\n      if (item.uid) {\n        if (item.uid === product.uid) {\n          item.quantity = newQuantity;\n        }\n      } else {\n        if (parseInt(item.id) === parseInt(product.id)) {\n          item.quantity = newQuantity;\n        }\n      }\n    });\n    updateCart(cartClone);\n  };\n\n  var definePriceFontSize = function definePriceFontSize() {\n    var price = formatPrice(language, product.price);\n    return String(price).length > 6 ? Math.round(scales.fontScale * 12) : Math.round(scales.fontScale * 14);\n  };\n\n  var isPizza = function isPizza() {\n    return !!(product.category.id === parseInt(appSettings.pizzaCategoryId));\n  };\n\n  var isPizzaConstructor = function isPizzaConstructor() {\n    return !!(product.type === 'classic');\n  };\n\n  var getVariantName = function getVariantName() {\n    var variant = product.variants.find(function (item) {\n      return item.size === product.size;\n    });\n    return variant ? variant['name'] : product.variants[0]['name'];\n  };\n\n  var renderPizzaIngredients = function renderPizzaIngredients() {\n    if (isPizzaConstructor()) {\n      var mainIngredients = [];\n      product.main_ingredients.forEach(function (item) {\n        var position = item.name + \" (x\" + item.quantity + \")\";\n        mainIngredients.push(position);\n      });\n      return React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: app_styles(scales).row_start,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: styles(scales).subtitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }\n      }, translator.translate(language, \"Соус:\"), \" \"), React.createElement(Text, {\n        style: styles(scales).ingredients,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 25\n        }\n      }, product.sauce.property)), React.createElement(Spacer, {\n        spaceHeight: 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }\n      }), React.createElement(View, {\n        style: app_styles(scales).row_start,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: styles(scales).subtitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }\n      }, translator.translate(language, 'Розмір'), \": \"), React.createElement(Text, {\n        style: styles(scales).ingredients,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 25\n        }\n      }, getVariantName())), React.createElement(Spacer, {\n        spaceHeight: 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }\n      }), React.createElement(Text, {\n        style: styles(scales).subtitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }\n      }, translator.translate(language, \"Основні інгредієнти:\"), \" \"), React.createElement(Text, {\n        style: styles(scales).ingredients,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }\n      }, mainIngredients.join(\", \")));\n    }\n\n    var ingredients = [];\n    product.main_ingredients.forEach(function (item) {\n      if (item.checked) {\n        var position = item.name + \" (x\" + item.quantity + \")\";\n        ingredients.push(position);\n      }\n    });\n    return React.createElement(React.Fragment, null, React.createElement(View, {\n      style: app_styles(scales).row_start,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: styles(scales).subtitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }, translator.translate(language, 'Розмір'), \": \"), React.createElement(Text, {\n      style: styles(scales).ingredients,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    }, getVariantName())), ingredients.length ? React.createElement(React.Fragment, null, React.createElement(Spacer, {\n      spaceHeight: 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 33\n      }\n    }), React.createElement(Text, {\n      style: styles(scales).subtitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 33\n      }\n    }, translator.translate(language, \"Додаткові інгредієнти:\"), \" \"), React.createElement(Text, {\n      style: styles(scales).ingredients,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 33\n      }\n    }, ingredients.join(\", \"))) : null);\n  };\n\n  var hasIngredients = function hasIngredients() {\n    return !!product.category.has_ingredients;\n  };\n\n  var hasVariants = function hasVariants() {\n    return !!(product.variants && product.variants.length > 1);\n  };\n\n  var renderProductIngredients = function renderProductIngredients() {\n    var ingredients = [];\n\n    if (hasIngredients()) {\n      product.main_ingredients.forEach(function (item) {\n        if (item.checked) {\n          var position = item.name + \" (x\" + item.quantity + \")\";\n          ingredients.push(position);\n        }\n      });\n    }\n\n    return React.createElement(React.Fragment, null, hasVariants() ? React.createElement(React.Fragment, null, React.createElement(Spacer, {\n      spaceHeight: 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 33\n      }\n    }), React.createElement(View, {\n      style: app_styles(scales).row_start,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 33\n      }\n    }, React.createElement(Text, {\n      style: styles(scales).subtitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 37\n      }\n    }, translator.translate(language, 'Варіант'), \": \"), React.createElement(Text, {\n      style: styles(scales).ingredients,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 37\n      }\n    }, getVariantName()))) : null, ingredients.length ? React.createElement(View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 29\n      }\n    }, React.createElement(Spacer, {\n      spaceHeight: 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 33\n      }\n    }), React.createElement(Text, {\n      style: styles(scales).subtitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 33\n      }\n    }, translator.translate(language, \"Додаткові складники:\"), \" \"), React.createElement(Text, {\n      style: styles(scales).ingredients,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 33\n      }\n    }, ingredients.join(\", \"))) : null);\n  };\n\n  var totalProductPrice = function totalProductPrice() {\n    return isPizza() ? formatPrice(language, getProductPrice() * product.quantity) : formatPrice(language, getProductPrice() * product.quantity + getIngredientsValue());\n  };\n\n  var getIngredientsValue = function getIngredientsValue() {\n    if (!hasIngredients()) return 0;\n    var value = 0;\n    product.main_ingredients.forEach(function (item) {\n      if (item.checked) {\n        value += parseFloat(item.quantity) * parseFloat(item.price);\n      }\n    });\n    return value * product.quantity;\n  };\n\n  return React.createElement(Block, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles(scales).container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles(scales).inner_container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: styles(scales).product_thumbnail_container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 21\n    }\n  }, React.createElement(IntelligentImage, {\n    thumbnailStyles: styles(scales).product_thumbnail,\n    thumbnailSource: product.image_preview,\n    fullSizeSource: product.image,\n    fullSizeStyles: styles(scales).product_image,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 25\n    }\n  })), React.createElement(View, {\n    style: styles(scales).product_description_container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles(scales).product_title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 25\n    }\n  }, product.name), React.createElement(Spacer, {\n    spaceHeight: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 25\n    }\n  }), React.createElement(View, {\n    style: app_styles(scales).row_start,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 25\n    }\n  }, product.weight ? React.createElement(Text, {\n    style: styles(scales).product_weight,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 39\n    }\n  }, product.weight, \" / \", formatPrice(language, getVariantPrice()), \" \", translator.translate(language, \"грн\")) : null), isPizza() ? renderPizzaIngredients() : renderProductIngredients(), React.createElement(Spacer, {\n    spaceHeight: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 25\n    }\n  }), React.createElement(View, {\n    style: app_styles(scales).row_between,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 25\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 29\n    }\n  }, React.createElement(Text, {\n    style: [styles(scales).product_price, {\n      fontSize: definePriceFontSize()\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 33\n    }\n  }, totalProductPrice(), \" \", translator.translate(language, \"грн\"))), React.createElement(View, {\n    style: styles(scales).manipulators_block,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 29\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles(scales).button_container,\n    onPress: function onPress() {\n      return cartHandler();\n    },\n    activeOpacity: 0.5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 33\n    }\n  }, React.createElement(View, {\n    style: styles(scales).manipulator_subtract_button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 37\n    }\n  }, React.createElement(IcoMoonIcon, {\n    name: \"minus\",\n    color: app_styles(scales).colors.text.light_grey,\n    size: Math.round(scales.widthScale * 14),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 41\n    }\n  }))), React.createElement(View, {\n    style: styles(scales).product_quantity_container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 33\n    }\n  }, React.createElement(Text, {\n    style: styles(scales).product_quantity,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 37\n    }\n  }, product.quantity)), React.createElement(TouchableOpacity, {\n    style: styles(scales).button_container,\n    onPress: function onPress() {\n      return cartHandler(\"+\");\n    },\n    activeOpacity: 0.5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 33\n    }\n  }, React.createElement(View, {\n    style: styles(scales).manipulator_add_button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 37\n    }\n  }, React.createElement(IcoMoonIcon, {\n    name: \"plus\",\n    color: app_styles(scales).colors.app.white,\n    size: Math.round(scales.widthScale * 14),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 41\n    }\n  })))), React.createElement(TouchableOpacity, {\n    style: styles(scales).remove_button,\n    onPress: function onPress() {\n      return removeFromCart(product);\n    },\n    activeOpacity: .7,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 29\n    }\n  }, React.createElement(IcoMoonIcon, {\n    name: \"trash\",\n    color: app_styles(scales).colors.text.light_grey,\n    size: Math.round(scales.widthScale * 17),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 33\n    }\n  })))))));\n};\n\nexport default ProductCardCart;","map":{"version":3,"sources":["/home/alex/workspace/papamama/src/components/menu/ProductCardCart.js"],"names":["React","useContext","useEffect","useState","Context","AppSettingsContext","MenuContext","Block","IntelligentImage","Spacer","VerticalSpacer","createIconSetFromIcoMoon","icoMoonConfig","IcoMoonIcon","translator","formatPrice","makeCopy","styles","app_styles","ProductCardCart","product","state","language","scales","appSettings","cart","updateCart","removeFromCart","getProductPrice","total_one_product_price","parseFloat","getVariantPrice","variant","variants","find","item","size","cartHandler","type","quantity","newQuantity","cartClone","forEach","uid","parseInt","id","definePriceFontSize","price","String","length","Math","round","fontScale","isPizza","category","pizzaCategoryId","isPizzaConstructor","getVariantName","renderPizzaIngredients","mainIngredients","main_ingredients","position","name","push","row_start","subtitle","translate","ingredients","sauce","property","join","checked","hasIngredients","has_ingredients","hasVariants","renderProductIngredients","totalProductPrice","getIngredientsValue","value","container","inner_container","product_thumbnail_container","product_thumbnail","image_preview","image","product_image","product_description_container","product_title","weight","product_weight","row_between","flex","product_price","fontSize","manipulators_block","button_container","manipulator_subtract_button","colors","text","light_grey","widthScale","product_quantity_container","product_quantity","manipulator_add_button","app","white","remove_button"],"mappings":"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","sourcesContent":["//----IMPORTS----//\n//React\nimport React, {useContext, useEffect, useState} from 'react';\n//React native\nimport {View, Text, TouchableOpacity} from 'react-native';\n//Context\nimport {Context as AppSettingsContext} from \"../../context/AppSettingsContext\";\nimport {Context as MenuContext} from \"../../context/MenuContext\";\n//Components\nimport {Block, IntelligentImage, Spacer, VerticalSpacer} from \"../shared\";\n//React-native-vector-icons package\nimport {createIconSetFromIcoMoon} from 'react-native-vector-icons';\nimport icoMoonConfig from '../../../selection.json';\n\nconst IcoMoonIcon = createIconSetFromIcoMoon(icoMoonConfig, 'icomoon', 'icomoon.ttf');\n//Localization\nimport translator from \"../../translator/translator\";\n//Helpers\nimport {formatPrice, makeCopy} from \"../../helpers/helpers\";\n//Styles\nimport styles from '../../styles/components/menu/product-card-cart';\nimport {app_styles} from '../../styles/app_styles';\n\n\n//----COMPONENT----//\nconst ProductCardCart = ({product}) => {\n    //Data and State\n    const {state: {language, scales, appSettings}} = useContext(AppSettingsContext);\n    const {state: {cart}, updateCart, removeFromCart} = useContext(MenuContext);\n\n\n    //Hooks and Methods\n    const getProductPrice = () => {\n        if (product.total_one_product_price) {\n            return parseFloat(product.total_one_product_price);\n        }\n        return getVariantPrice();\n    }\n\n\n    const getVariantPrice = () => {\n        let variant = product.variants.find(item => item.size === product.size);\n        return variant ? parseFloat(variant['price']) : product.variants[0]['price'];\n    }\n\n\n    const cartHandler = (type = \"-\") => {\n        if (type === \"-\" && product.quantity <= 1) return;\n        let newQuantity = (type === \"-\") ? product.quantity - 1 : product.quantity + 1;\n\n        let cartClone = makeCopy(cart);\n        cartClone.forEach(item => {\n            if (item.uid) {\n                if (item.uid === product.uid) {\n                    item.quantity = newQuantity;\n                }\n            } else {\n                if (parseInt(item.id) === parseInt(product.id)) {\n                    item.quantity = newQuantity;\n                }\n            }\n        });\n        updateCart(cartClone);\n    }\n\n\n    const definePriceFontSize = () => {\n        let price = formatPrice(language, product.price);\n        return String(price).length > 6 ? Math.round(scales.fontScale * 12) : Math.round(scales.fontScale * 14);\n    }\n\n\n\n    const isPizza = () => {\n        return !!(product.category.id === parseInt(appSettings.pizzaCategoryId));\n    }\n\n    const isPizzaConstructor = () => {\n        return !!(product.type === 'classic');\n    }\n\n\n    const getVariantName = () => {\n        let variant = product.variants.find(item => item.size === product.size);\n        return variant ? variant['name'] : product.variants[0]['name'];\n    }\n\n\n    const renderPizzaIngredients = () => {\n\n        if (isPizzaConstructor()) {\n            let mainIngredients = [];\n\n            product.main_ingredients.forEach(item => {\n                let position = `${item.name} (x${item.quantity})`;\n                mainIngredients.push(position);\n            })\n\n            return (\n                <View>\n                    <View style={app_styles(scales).row_start}>\n                        <Text style={styles(scales).subtitle}>{translator.translate(language, \"Соус:\")} </Text>\n                        <Text style={styles(scales).ingredients}>{product.sauce.property}</Text>\n                    </View>\n                    <Spacer spaceHeight={5}/>\n                    <View style={app_styles(scales).row_start}>\n                        <Text style={styles(scales).subtitle}>{translator.translate(language, 'Розмір')}: </Text>\n                        <Text style={styles(scales).ingredients}>{getVariantName()}</Text>\n                    </View>\n                    <Spacer spaceHeight={5}/>\n                    <Text\n                        style={styles(scales).subtitle}>{translator.translate(language, \"Основні інгредієнти:\")} </Text>\n                    <Text style={styles(scales).ingredients}>{mainIngredients.join(\", \")}</Text>\n                </View>\n            );\n        }\n\n        let ingredients = [];\n        product.main_ingredients.forEach(item => {\n            if (item.checked) {\n                let position = `${item.name} (x${item.quantity})`;\n                ingredients.push(position);\n            }\n        });\n\n        return (\n            <>\n                <View style={app_styles(scales).row_start}>\n                    <Text style={styles(scales).subtitle}>{translator.translate(language, 'Розмір')}: </Text>\n                    <Text style={styles(scales).ingredients}>{getVariantName()}</Text>\n                </View>\n                {\n                    ingredients.length\n                        ? (\n                            <>\n                                <Spacer spaceHeight={5}/>\n                                <Text\n                                    style={styles(scales).subtitle}>{translator.translate(language, \"Додаткові інгредієнти:\")} </Text>\n                                <Text style={styles(scales).ingredients}>{ingredients.join(\", \")}</Text>\n                            </>\n                        )\n                        : null\n                }\n\n            </>\n        );\n    }\n\n\n    const hasIngredients = () => {\n        return !!product.category.has_ingredients;\n    }\n\n    const hasVariants = () => {\n        return !!(product.variants && product.variants.length > 1)\n    }\n\n\n    const renderProductIngredients = () => {\n        let ingredients = [];\n\n        if (hasIngredients()) {\n            product.main_ingredients.forEach(item => {\n                if (item.checked) {\n                    let position = `${item.name} (x${item.quantity})`;\n                    ingredients.push(position);\n                }\n            });\n        }\n\n        return (\n            <>\n                {\n                    hasVariants()\n                        ? (\n                            <>\n                                <Spacer spaceHeight={5}/>\n                                <View style={app_styles(scales).row_start}>\n                                    <Text\n                                        style={styles(scales).subtitle}>{translator.translate(language, 'Варіант')}: </Text>\n                                    <Text style={styles(scales).ingredients}>{getVariantName()}</Text>\n                                </View>\n                            </>\n                        )\n                        : null\n                }\n                {\n                    ingredients.length\n                        ? (\n                            <View>\n                                <Spacer spaceHeight={5}/>\n                                <Text\n                                    style={styles(scales).subtitle}>{translator.translate(language, \"Додаткові складники:\")} </Text>\n                                <Text style={styles(scales).ingredients}>{ingredients.join(\", \")}</Text>\n                            </View>\n                        )\n                        : null\n                }\n\n            </>\n        );\n    }\n\n\n    const totalProductPrice = () => {\n        return isPizza()\n            ? formatPrice(language, getProductPrice() * product.quantity)\n            : (formatPrice(language, ((getProductPrice() * product.quantity)) + getIngredientsValue()));\n    }\n\n\n    const getIngredientsValue = () => {\n        if (!hasIngredients()) return 0;\n        let value = 0;\n        product.main_ingredients.forEach(item => {\n            if (item.checked) {\n                value += (parseFloat(item.quantity) * parseFloat(item.price))\n            }\n        });\n        return value * product.quantity;\n    }\n\n\n    //Template\n    return (\n        <Block>\n            <View style={styles(scales).container}>\n                <View style={styles(scales).inner_container}>\n                    {/* Product Image */}\n                    <View style={styles(scales).product_thumbnail_container}>\n                        <IntelligentImage\n                            thumbnailStyles={styles(scales).product_thumbnail}\n                            thumbnailSource={product.image_preview}\n                            fullSizeSource={product.image}\n                            fullSizeStyles={styles(scales).product_image}\n                        />\n                    </View>\n                    {/* Product Description */}\n                    <View style={styles(scales).product_description_container}>\n                        <Text style={styles(scales).product_title}>{product.name}</Text>\n                        <Spacer spaceHeight={4}/>\n                        <View style={app_styles(scales).row_start}>\n                            {\n                                product.weight\n                                    ? <Text\n                                        style={styles(scales).product_weight}>{product.weight} / {formatPrice(language, getVariantPrice())} {translator.translate(language, \"грн\")}</Text>\n                                    : null\n                            }\n                        </View>\n                        {\n                            isPizza()\n                                ? renderPizzaIngredients()\n                                : renderProductIngredients()\n                        }\n                        {/* Price and quantity manipulators */}\n                        <Spacer spaceHeight={8}/>\n                        <View style={app_styles(scales).row_between}>\n                            <View style={{flex: 1}}>\n                                <Text\n                                    style={[styles(scales).product_price, {fontSize: definePriceFontSize()}]}>{totalProductPrice()} {translator.translate(language, \"грн\")}</Text>\n                            </View>\n                            <View style={styles(scales).manipulators_block}>\n                                <TouchableOpacity style={styles(scales).button_container} onPress={() => cartHandler()}\n                                                  activeOpacity={0.5}>\n                                    <View style={styles(scales).manipulator_subtract_button}>\n                                        <IcoMoonIcon name=\"minus\" color={app_styles(scales).colors.text.light_grey}\n                                                     size={Math.round(scales.widthScale * 14)}/>\n                                    </View>\n                                </TouchableOpacity>\n                                <View style={styles(scales).product_quantity_container}>\n                                    <Text style={styles(scales).product_quantity}>{product.quantity}</Text>\n                                </View>\n                                <TouchableOpacity style={styles(scales).button_container}\n                                                  onPress={() => cartHandler(\"+\")} activeOpacity={0.5}>\n                                    <View style={styles(scales).manipulator_add_button}>\n                                        <IcoMoonIcon name=\"plus\" color={app_styles(scales).colors.app.white}\n                                                     size={Math.round(scales.widthScale * 14)}/>\n                                    </View>\n                                </TouchableOpacity>\n                            </View>\n                            <TouchableOpacity style={styles(scales).remove_button}\n                                              onPress={() => removeFromCart(product)} activeOpacity={.7}>\n                                <IcoMoonIcon name=\"trash\" color={app_styles(scales).colors.text.light_grey}\n                                             size={Math.round(scales.widthScale * 17)}/>\n                            </TouchableOpacity>\n                        </View>\n                    </View>\n                </View>\n            </View>\n        </Block>\n    );\n}\n\n\n//----EXPORT----//\nexport default ProductCardCart"]},"metadata":{},"sourceType":"module"}