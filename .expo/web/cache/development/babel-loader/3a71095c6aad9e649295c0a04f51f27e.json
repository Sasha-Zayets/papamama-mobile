{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/alex/workspace/papamama/src/components/menu/ProductCardMenu.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Context as AppSettingsContext } from \"../../context/AppSettingsContext\";\nimport { Context as MenuContext } from \"../../context/MenuContext\";\nimport { Block, IntelligentImage, Spacer, VerticalSpacer } from \"../shared\";\nimport { createIconSetFromIcoMoon } from \"@expo/vector-icons\";\nimport icoMoonConfig from \"../../../selection.json\";\nvar IcoMoonIcon = createIconSetFromIcoMoon(icoMoonConfig, 'icomoon', 'icomoon.ttf');\nimport translator from \"../../translator/translator\";\nimport { formatPrice, escapeHtml, prepareLanguageToHttpRequest, notEmptyString } from \"../../helpers/helpers\";\nimport styles from \"../../styles/components/menu/product-card-menu\";\nimport { app_styles } from \"../../styles/app_styles\";\n\nvar ProductCardMenu = function ProductCardMenu(_ref) {\n  var product = _ref.product,\n      navigation = _ref.navigation;\n\n  var _useContext = useContext(AppSettingsContext),\n      _useContext$state = _useContext.state,\n      language = _useContext$state.language,\n      scales = _useContext$state.scales,\n      appSettings = _useContext$state.appSettings;\n\n  var _useContext2 = useContext(MenuContext),\n      _useContext2$state = _useContext2.state,\n      cart = _useContext2$state.cart,\n      itemsInCart = _useContext2$state.itemsInCart,\n      addToCart = _useContext2.addToCart,\n      updateCart = _useContext2.updateCart,\n      removeFromCart = _useContext2.removeFromCart;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      productQuantity = _useState2[0],\n      setProductQuantity = _useState2[1];\n\n  useEffect(function () {\n    if (isProductInCart()) {\n      setProductQuantity(getCartProductQuantity());\n    } else {\n      setProductQuantity(0);\n    }\n  }, [itemsInCart]);\n\n  var cartHandler = function cartHandler() {\n    var operator = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"-\";\n\n    if (hasOwnScreen()) {\n      return navigation.navigate('Product', {\n        'productId': product.id\n      });\n    }\n\n    var id = Number(product.id);\n    var cartClone = JSON.parse(JSON.stringify(cart));\n\n    if (isProductInCart()) {\n      if (operator === \"+\") {\n        cartClone.forEach(function (item) {\n          if (Number(item.id) === id) {\n            return item.quantity += 1;\n          }\n        });\n        setProductQuantity(productQuantity + 1);\n        return updateCart(cartClone);\n      } else {\n        cartClone.forEach(function (item) {\n          if (Number(item.id) === id && isReducable(item)) {\n            return item.quantity -= 1;\n          }\n        });\n        setProductQuantity(productQuantity - 1);\n        return updateCart(cartClone);\n      }\n    } else {\n      var productClone = JSON.parse(JSON.stringify(product));\n      productClone.quantity = 1;\n      addToCart(productClone);\n      setProductQuantity(productQuantity + 1);\n    }\n  };\n\n  var isProductInCart = function isProductInCart() {\n    return !!cart.find(function (item) {\n      return item.id === product.id;\n    });\n  };\n\n  var getCartProductQuantity = function getCartProductQuantity() {\n    var prod = cart.find(function (item) {\n      return item.id === product.id;\n    });\n    return prod.quantity;\n  };\n\n  var isReducable = function isReducable(cartItem) {\n    return cartItem.quantity > 0;\n  };\n\n  var definePriceFontSize = function definePriceFontSize() {\n    var price = formatPrice(language, getProductPrice(true));\n    return String(price).length > 6 ? Math.round(scales.fontScale * 12) : Math.round(scales.fontScale * 14);\n  };\n\n  var hasVariants = function hasVariants() {\n    return !!(product.variants && product.variants.length > 1);\n  };\n\n  var getProductPrice = function getProductPrice() {\n    var viceVersa = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var price;\n\n    if (hasVariants()) {\n      if (viceVersa) {\n        price = product && product['variants'] && product['variants'][1] && product['variants'][1]['price'] || null;\n      } else {\n        price = product && product['variants'] && product['variants'][0] && product['variants'][0]['price'] || null;\n      }\n    } else {\n      price = product && product['variants'] && product['variants'][0] && product['variants'][0]['price'] || null;\n    }\n\n    if (price) {\n      return formatPrice(language, parseFloat(price));\n    }\n\n    return null;\n  };\n\n  var getPriceString = function getPriceString() {\n    var viceVersa = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var price = getProductPrice(viceVersa);\n\n    if (!price) {\n      return null;\n    }\n\n    var from = hasVariants() ? translator.translate(language, \"від\") + ' ' : '';\n    return from + price + ' ' + translator.translate(language, \"грн\");\n  };\n\n  var hasOwnScreen = function hasOwnScreen() {\n    return hasVariants() || product.category.has_ingredients;\n  };\n\n  var constructorMessage = function constructorMessage() {\n    var message = translator.translate(language, 'Склади піцу із улюблених складників.') + '\\n\\n' + translator.translate(language, 'Вибирай соус та до :NUM інгредієнтів');\n    var quantity = appSettings.maxSelfMadeIngCount || 12;\n    message = message.replace(':NUM', quantity);\n    return message;\n  };\n\n  var addBadge = function addBadge() {\n    var defaultColor = '#1AA056';\n    var badge = product.badges[0];\n    var bg = badge.color || defaultColor;\n    return React.createElement(View, {\n      style: [styles(scales).badge_container, {\n        backgroundColor: bg\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      style: styles(scales).badge_name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }\n    }, badge.name));\n  };\n\n  return React.createElement(Block, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles(scales).container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles(scales).inner_container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }\n  }, product.is_constructor ? React.createElement(TouchableOpacity, {\n    style: styles(scales).banner_wrap,\n    onPress: function onPress() {\n      return navigation.navigate('PizzaConstructor');\n    },\n    activeOpacity: .8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 33\n    }\n  }, React.createElement(View, {\n    style: app_styles(scales).row_start,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 37\n    }\n  }, React.createElement(View, {\n    style: styles(scales).img_container_constructor,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 41\n    }\n  }, React.createElement(Image, {\n    source: require(\"../../../assets/images/pizza_constructor.png\"),\n    style: styles(scales).img_constructor,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 45\n    }\n  })), React.createElement(View, {\n    style: styles(scales).constr_descr_container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 41\n    }\n  }, React.createElement(Text, {\n    style: styles(scales).product_title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 45\n    }\n  }, translator.translate(language, 'Зібрати піцу')), React.createElement(Spacer, {\n    spaceHeight: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 45\n    }\n  }), React.createElement(Text, {\n    style: styles(scales).product_description,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 45\n    }\n  }, constructorMessage(), \"!\")))) : React.createElement(React.Fragment, null, React.createElement(View, {\n    style: styles(scales).product_thumbnail_container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 37\n    }\n  }, React.createElement(IntelligentImage, {\n    thumbnailStyles: styles(scales).product_thumbnail,\n    thumbnailSource: product.image_preview,\n    fullSizeSource: product.image,\n    fullSizeStyles: styles(scales).product_image,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 41\n    }\n  }), product.badges && product.badges.length ? addBadge() : null), React.createElement(View, {\n    style: styles(scales).product_description_container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 37\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return hasOwnScreen() ? navigation.navigate('Product', {\n        'productId': product.id\n      }) : null;\n    },\n    activeOpacity: hasOwnScreen() ? .8 : 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 41\n    }\n  }, React.createElement(Text, {\n    style: styles(scales).product_title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 45\n    }\n  }, product.name), notEmptyString(product.short_description_mobile_app) ? React.createElement(React.Fragment, null, React.createElement(Spacer, {\n    spaceHeight: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 61\n    }\n  }), React.createElement(Text, {\n    style: styles(scales).product_description,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 61\n    }\n  }, escapeHtml(product.short_description_mobile_app)), React.createElement(Spacer, {\n    spaceHeight: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 61\n    }\n  })) : React.createElement(Spacer, {\n    spaceHeight: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 55\n    }\n  })), React.createElement(View, {\n    style: app_styles(scales).row_between,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 41\n    }\n  }, React.createElement(View, {\n    style: app_styles(scales).row_start,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 45\n    }\n  }, React.createElement(View, {\n    style: app_styles(scales).row_start,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 49\n    }\n  }, React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 53\n    }\n  }, React.createElement(Text, {\n    style: [styles(scales).product_price, {\n      fontSize: definePriceFontSize()\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 57\n    }\n  }, getPriceString(true))), React.createElement(VerticalSpacer, {\n    spaceWidth: 16,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 53\n    }\n  }), notEmptyString(product.weight) ? React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 65\n    }\n  }, React.createElement(Text, {\n    style: styles(scales).product_weight,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 69\n    }\n  }, product.weight)) : null)), productQuantity && !hasOwnScreen() ? React.createElement(View, {\n    style: styles(scales).manipulators_block,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 57\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles(scales).button_container,\n    onPress: function onPress() {\n      return cartHandler();\n    },\n    activeOpacity: 0.5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 61\n    }\n  }, React.createElement(View, {\n    style: styles(scales).manipulator_subtract_button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 65\n    }\n  }, React.createElement(IcoMoonIcon, {\n    name: \"minus\",\n    color: app_styles(scales).colors.text.grey,\n    size: Math.round(scales.widthScale * 14),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 69\n    }\n  }))), React.createElement(View, {\n    style: styles(scales).product_quantity_container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 61\n    }\n  }, React.createElement(Text, {\n    style: styles(scales).product_quantity,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 65\n    }\n  }, productQuantity)), React.createElement(TouchableOpacity, {\n    style: styles(scales).button_container,\n    onPress: function onPress() {\n      return cartHandler(\"+\");\n    },\n    activeOpacity: 0.5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 61\n    }\n  }, React.createElement(View, {\n    style: styles(scales).manipulator_add_button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 65\n    }\n  }, React.createElement(IcoMoonIcon, {\n    name: \"plus\",\n    color: app_styles(scales).colors.text.white,\n    size: Math.round(scales.widthScale * 14),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 69\n    }\n  })))) : React.createElement(TouchableOpacity, {\n    style: styles(scales).cart_button,\n    onPress: function onPress() {\n      return cartHandler(\"+\");\n    },\n    activeOpacity: 0.7,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 57\n    }\n  }, React.createElement(IcoMoonIcon, {\n    name: \"shopping-bag\",\n    color: app_styles(scales).colors.text.primary,\n    size: Math.round(scales.widthScale * 23),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 61\n    }\n  }))))))));\n};\n\nexport default ProductCardMenu;","map":{"version":3,"sources":["/home/alex/workspace/papamama/src/components/menu/ProductCardMenu.js"],"names":["React","useContext","useEffect","useState","Context","AppSettingsContext","MenuContext","Block","IntelligentImage","Spacer","VerticalSpacer","createIconSetFromIcoMoon","icoMoonConfig","IcoMoonIcon","translator","formatPrice","escapeHtml","prepareLanguageToHttpRequest","notEmptyString","styles","app_styles","ProductCardMenu","product","navigation","state","language","scales","appSettings","cart","itemsInCart","addToCart","updateCart","removeFromCart","productQuantity","setProductQuantity","isProductInCart","getCartProductQuantity","cartHandler","operator","hasOwnScreen","navigate","id","Number","cartClone","JSON","parse","stringify","forEach","item","quantity","isReducable","productClone","find","prod","cartItem","definePriceFontSize","price","getProductPrice","String","length","Math","round","fontScale","hasVariants","variants","viceVersa","parseFloat","getPriceString","from","translate","category","has_ingredients","constructorMessage","message","maxSelfMadeIngCount","replace","addBadge","defaultColor","badge","badges","bg","color","badge_container","backgroundColor","badge_name","name","container","inner_container","is_constructor","banner_wrap","row_start","img_container_constructor","require","img_constructor","constr_descr_container","product_title","product_description","product_thumbnail_container","product_thumbnail","image_preview","image","product_image","product_description_container","short_description_mobile_app","row_between","product_price","fontSize","weight","product_weight","manipulators_block","button_container","manipulator_subtract_button","colors","text","grey","widthScale","product_quantity_container","product_quantity","manipulator_add_button","white","cart_button","primary"],"mappings":"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","sourcesContent":["//----IMPORTS----//\n//React\nimport React, {useContext, useEffect, useState} from 'react';\n//React native\nimport {View, Text, TouchableOpacity, Linking, Image} from 'react-native';\n//Context\nimport {Context as AppSettingsContext} from \"../../context/AppSettingsContext\";\nimport {Context as MenuContext} from \"../../context/MenuContext\";\n//Components\nimport {Block, IntelligentImage, Spacer, VerticalSpacer} from \"../shared\";\n//React-native-vector-icons package\nimport {createIconSetFromIcoMoon} from 'react-native-vector-icons';\nimport icoMoonConfig from '../../../selection.json';\n\nconst IcoMoonIcon = createIconSetFromIcoMoon(icoMoonConfig, 'icomoon', 'icomoon.ttf');\n//Localization\nimport translator from \"../../translator/translator\";\n//Helpers\nimport {formatPrice, escapeHtml, prepareLanguageToHttpRequest, notEmptyString} from \"../../helpers/helpers\";\n//Styles\nimport styles from '../../styles/components/menu/product-card-menu';\nimport {app_styles} from '../../styles/app_styles';\n\n\n//----COMPONENT----//\nconst ProductCardMenu = ({product, navigation}) => {\n    //Data and State\n    const {state: {language, scales, appSettings}} = useContext(AppSettingsContext);\n    const {state: {cart, itemsInCart}, addToCart, updateCart, removeFromCart} = useContext(MenuContext);\n    const [productQuantity, setProductQuantity] = useState(0);\n\n\n    //Hooks and Methods\n    useEffect(() => {        \n        if (isProductInCart()) {\n            setProductQuantity(getCartProductQuantity());\n        } else {\n            setProductQuantity(0)\n        }\n    }, [itemsInCart]);\n\n\n    const cartHandler = (operator = \"-\") => {\n\n        if (hasOwnScreen()) {\n            return navigation.navigate('Product', {'productId': product.id})\n        }\n\n        let id = Number(product.id);\n        let cartClone = JSON.parse(JSON.stringify(cart));\n\n        if (isProductInCart()) {\n            if (operator === \"+\") {\n                cartClone.forEach(item => {\n                    if (Number(item.id) === id) {\n                        return item.quantity += 1;\n                    }\n                });\n                setProductQuantity(productQuantity + 1)\n                return updateCart(cartClone);\n            } else {\n                cartClone.forEach(item => {\n                    if (Number(item.id) === id && isReducable(item)) {\n                        return item.quantity -= 1;\n                    }\n                });\n                setProductQuantity(productQuantity - 1)\n                return updateCart(cartClone);\n            }\n        } else {\n            let productClone = JSON.parse(JSON.stringify(product));\n            productClone.quantity = 1;\n            addToCart(productClone)\n            setProductQuantity(productQuantity + 1)\n        }\n    }\n\n\n    const isProductInCart = () => {\n        return !!cart.find(item => item.id === product.id);\n    }\n\n    const getCartProductQuantity = () => {\n        let prod = cart.find(item => item.id === product.id);\n        return prod.quantity;\n    }\n\n    const isReducable = (cartItem) => {\n        return cartItem.quantity > 0;\n    }\n\n\n    const definePriceFontSize = () => {\n        let price = formatPrice(language, getProductPrice(true));\n        return String(price).length > 6 ? Math.round(scales.fontScale * 12) : Math.round(scales.fontScale * 14);\n    }\n\n\n    const hasVariants = () => {\n        return !!(product.variants && product.variants.length > 1)\n    }\n\n\n    const getProductPrice = (viceVersa = false) => {\n        let price;\n\n        if(hasVariants()){\n            if(viceVersa){\n                price = product && product['variants'] && product['variants'][1] && product['variants'][1]['price'] || null;\n            } else {\n                price = product && product['variants'] && product['variants'][0] && product['variants'][0]['price'] || null;\n            }\n        } else {\n            price = product && product['variants'] && product['variants'][0] && product['variants'][0]['price'] || null;\n        }\n        if (price) {\n            return formatPrice(language, parseFloat(price))\n        }\n        return null;\n    }\n\n\n    const getPriceString = (viceVersa = false) => {\n        let price = getProductPrice(viceVersa);\n        if (!price) {\n            return null;\n        }\n        let from = hasVariants() ? (translator.translate(language, \"від\") + ' ') : '';\n        return from + price + ' ' + translator.translate(language, \"грн\");\n    }\n\n\n    const hasOwnScreen = () => {\n        return hasVariants() || product.category.has_ingredients\n    }\n\n\n    const constructorMessage = () => {\n        let message = translator.translate(language, 'Склади піцу із улюблених складників.') + '\\n\\n' + translator.translate(language, 'Вибирай соус та до :NUM інгредієнтів');\n        let quantity = appSettings.maxSelfMadeIngCount || 12;\n            message = message.replace(':NUM', quantity);\n         return message;\n    }\n\n\n    const addBadge = () => {\n        let defaultColor = '#1AA056';\n        let badge = product.badges[0];\n        let bg = badge.color || defaultColor;\n\n        return (\n            <View style={[styles(scales).badge_container, {backgroundColor: bg}]}>\n                <Text style={styles(scales).badge_name}>{badge.name}</Text>\n            </View>\n        );\n    }\n\n\n\n\n    //Template\n    return (\n        <Block>\n            <View style={styles(scales).container}>\n                <View style={styles(scales).inner_container}>\n                    {\n                        product.is_constructor\n                            ? (\n                                <TouchableOpacity style={styles(scales).banner_wrap}\n                                                  onPress={() => navigation.navigate('PizzaConstructor')}\n                                                  activeOpacity={.8}>\n                                    <View style={app_styles(scales).row_start}>\n                                        <View style={styles(scales).img_container_constructor}>\n                                            <Image\n                                                source={require(\"../../../assets/images/pizza_constructor.png\")}\n                                                style={styles(scales).img_constructor}\n                                            />\n                                        </View>\n                                        <View style={styles(scales).constr_descr_container}>\n                                            <Text style={styles(scales).product_title}>{translator.translate(language, 'Зібрати піцу')}</Text>\n                                            <Spacer spaceHeight={6}/>\n                                            <Text style={styles(scales).product_description}>{constructorMessage()}!</Text>\n                                        </View>\n                                    </View>\n                                </TouchableOpacity>\n                            )\n                            : (\n                                <>\n                                    {/* Product Image */}\n                                    <View style={styles(scales).product_thumbnail_container}>\n                                        <IntelligentImage\n                                            thumbnailStyles={styles(scales).product_thumbnail}\n                                            thumbnailSource={product.image_preview}\n                                            fullSizeSource={product.image}\n                                            fullSizeStyles={styles(scales).product_image}\n                                        />\n                                        {\n                                            product.badges && product.badges.length\n                                            ? addBadge()\n                                            : null\n                                        }\n                                    </View>\n                                    {/* Product Description */}\n                                    <View style={styles(scales).product_description_container}>\n                                        <TouchableOpacity\n                                            onPress={() => hasOwnScreen() ? navigation.navigate('Product', {'productId': product.id}) : null}\n                                            activeOpacity={hasOwnScreen() ? .8 : 1}\n                                        >\n                                            <Text style={styles(scales).product_title}>{product.name}</Text>\n                                            {\n                                                notEmptyString(product.short_description_mobile_app)\n                                                    ? (\n                                                        <>\n                                                            <Spacer spaceHeight={6}/>\n                                                            <Text\n                                                                style={styles(scales).product_description}>{escapeHtml(product.short_description_mobile_app)}</Text>\n                                                            <Spacer spaceHeight={10}/>\n                                                        </>\n                                                    )\n                                                    : <Spacer spaceHeight={10} />\n                                            }\n                                        </TouchableOpacity>\n                                        <View style={app_styles(scales).row_between}>\n                                            <View style={app_styles(scales).row_start}>\n                                                <View style={app_styles(scales).row_start}>\n                                                    <View>\n                                                        <Text style={[styles(scales).product_price, {fontSize: definePriceFontSize()}]}>{getPriceString(true)}</Text>\n                                                    </View>\n                                                    <VerticalSpacer spaceWidth={16}/>\n                                                    {\n                                                        notEmptyString(product.weight)\n                                                            ? (\n                                                                <View>\n                                                                    <Text\n                                                                        style={styles(scales).product_weight}>{product.weight}</Text>\n                                                                </View>\n                                                            )\n                                                            : null\n                                                    }\n                                                </View>\n                                            </View>\n                                            {\n                                                productQuantity && !hasOwnScreen()\n                                                    ? (\n                                                        <View style={styles(scales).manipulators_block}>\n                                                            <TouchableOpacity style={styles(scales).button_container}\n                                                                              onPress={() => cartHandler()} activeOpacity={0.5}>\n                                                                <View style={styles(scales).manipulator_subtract_button}>\n                                                                    <IcoMoonIcon name=\"minus\"\n                                                                                 color={app_styles(scales).colors.text.grey}\n                                                                                 size={Math.round(scales.widthScale * 14)}/>\n                                                                </View>\n                                                            </TouchableOpacity>\n                                                            <View style={styles(scales).product_quantity_container}>\n                                                                <Text\n                                                                    style={styles(scales).product_quantity}>{productQuantity}</Text>\n                                                            </View>\n                                                            <TouchableOpacity style={styles(scales).button_container}\n                                                                              onPress={() => cartHandler(\"+\")}\n                                                                              activeOpacity={0.5}>\n                                                                <View style={styles(scales).manipulator_add_button}>\n                                                                    <IcoMoonIcon name=\"plus\"\n                                                                                 color={app_styles(scales).colors.text.white}\n                                                                                 size={Math.round(scales.widthScale * 14)}/>\n                                                                </View>\n                                                            </TouchableOpacity>\n                                                        </View>\n                                                    )\n                                                    : (\n                                                        <TouchableOpacity style={styles(scales).cart_button}\n                                                                          onPress={() => cartHandler(\"+\")} activeOpacity={0.7}>\n                                                            <IcoMoonIcon name=\"shopping-bag\"\n                                                                         color={app_styles(scales).colors.text.primary}\n                                                                         size={Math.round(scales.widthScale * 23)}/>\n                                                        </TouchableOpacity>\n                                                    )\n                                            }\n                                        </View>\n                                    </View>\n                                </>\n                            )\n                    }\n                </View>\n            </View>\n        </Block>\n    );\n}\n\n\n//----EXPORT----//\nexport default ProductCardMenu"]},"metadata":{},"sourceType":"module"}